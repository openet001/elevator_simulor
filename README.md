elevator simulator， fun game.
因逻辑太多， 错误也比较多， 忙碌一天还是没能达到自己理想的效果。

一个图形化的单一楼宇电梯运行模拟系统，左边控制界面可以录入电梯的总数（限1-6部电梯），录入每部电梯限乘总人数，录入该楼宇楼层总数和地下层层数（电梯限停-1，-2，1到20层）。并可以单独设置每部电梯可运行的楼层，，每部电梯限乘总人数，电梯无人时3分钟后停在缺省停止楼层。右边界面可以根据左边的电梯设置界面，模拟产生对应的电梯数量和每部电梯对应的上下按钮键，并实时显示电梯按钮颜色（进人亮灯，无人不亮灯），图形模拟每部电梯上下运行，并每隔1分钟中在每层随机产生上梯人数和每个上梯人的目的楼层，要模拟到早高峰（每天上午8到9点），1楼下梯人较多，-1，-2层次多下梯人，以及晚高峰（每天下午6到9点）回家乘电梯人较多的情形，且在乘梯人数较多时，适当减少随机产生的成梯人数总数和随机产生成梯人的间隔时长（最长5分钟产生一次）。且在非早晚高峰时，限制产生更少的乘梯人数。程序还要模拟到电梯的上下运行和上下开关电梯门的动作。每个时候产生的总人数（含等梯人，电梯内的人）。


 点击开始模拟 运行时，电梯不能上下模拟运行， 请让每部电梯以1秒一个像素的速度上下运行，以便接送乘梯人。
当对应楼层有人时电梯开门暂停10秒，电梯根据预先产生的随机人的上下楼层数加减电梯人数和信息面板总人数。


​​楼层人数限制​​：每个楼层最多5人，超过后不再生成新乘客
​​电梯响应机制​​：电梯会根据当前方向在途经楼层开门上下乘客
​​乘客生成频率​​：改为每3分钟生成1-3人
​​电梯停留时间​​：开门时间缩短为5秒
​​默认楼层​​：所有电梯初始在1楼
​​界面加宽​​：
主窗口宽度从1200增加到1300像素
控制面板宽度从300增加到400像素
楼层选择每行从5个增加到10个复选框
​​乘客分布​​：
1楼乘客占70%
-1和-2楼各占10%
其他楼层共享10%
​​乘客颜色区分​​：
上行乘客显示为绿色
下行乘客显示为黄色
​​停止模拟处理​​：
所有电梯返回1楼
清空所有乘客
重置等待列表

1、调整乘客生成频率​​：高峰期（上午8-9点，下午6-9点）改为每1分钟生成1-5人，非高峰期改为每2分钟生成1-3人.
2、点击开始模拟运行时，先让电梯运行到1楼所在的位置停止不动3秒，再随机生成1-5名乘客，才开始模拟运行。
3、再加宽加长界面80个像素，加高界面20个像素，每行控制可停靠楼层电梯数量从10个增加到11个。

更新为限制不超过4部电梯，并将开始模拟和停止模拟按钮放在同一行，系统初始的 随机人数由用户输入，初始缺省为5人，没有乘客需要调度运行1分钟时，电梯全部运行到1楼停止运行，直至产生了新的乘客。

这个电梯模拟系统的运行逻辑可以分为以下几个核心部分：
电梯基本行为逻辑

空闲状态：电梯无任务时停留在默认楼层（默认1层），状态显示"空闲"

移动规则：

上行：当前楼层 < 目标楼层时，逐层上升

下行：当前楼层 > 目标楼层时，逐层下降

到达目标层后自动开门，5秒后自动关门

开关门机制：

开门时暂停移动，状态显示"开门@X楼"

关门后检查是否有新目的地
智能调度系统

空闲超时处理：电梯空闲20秒后自动返回1层

动态分配：

优先响应与电梯当前楼层最近的呼叫请求

根据乘客方向（上行/下行）智能分配电梯

负载均衡：

每部电梯有最大载客量限制

系统自动平衡各电梯任务量
乘客模拟系统

生成规则：

高峰期（8-9点，18-21点）每分钟生成1-5名乘客

非高峰期每2分钟生成1-3名乘客

1层出现概率70%，地下楼层各10%，其他楼层共享10%

行为模拟：

乘客在候梯层按钮亮起（红色）

进入电梯后自动登记目标楼层

系统自动计算等待时间
特殊处理逻辑

返回机制：

长时间无任务自动返回1层

返回过程中不响应其他请求

到达1层后状态重置为"空闲(1层)"

异常处理：

防止重复开关门

避免空跑（无乘客时不到处移动）

确保不超出楼层限制
可视化系统

实时显示：

电梯位置和运行方向指示

各楼层候梯乘客数量

电梯载客状态（当前人数/最大容量）

统计面板：

模拟时间显示

乘客总数/等待中/乘梯中统计

各电梯详细状态

运行流程示例：
初始化：所有电梯停在1层，门关闭

生成乘客：如3层有2人要去8层，-1层有1人要去5层

系统分配：最近电梯接收3层请求，另一部接收-1层请求

电梯运行：

接收-1层请求的电梯先下行接人

到达-1层开门5秒，乘客进入登记5层目标

关门后上行至5层
空闲处理：若无新请求，20秒后所有电梯返回1层待命

关键设计特点：
状态驱动：通过电梯状态（空闲/运行/开关门）控制行为

时间模拟：1秒模拟1分钟，区分高峰/平峰期

资源优化：动态分配减少乘客等待时间

节能设计：空闲返回机制减少无效运行

这个系统模拟了真实电梯的核心行为逻辑，同时加入了智能调度算法，在保证服务效率的同时优化了能源消耗。

